<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PostgreSQL Server Installation and Configuration &mdash; OpenERP Book 8.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootswatch-3.1.0/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="OpenERP Book 8.0 documentation" href="../../../../index.html" />
    <link rel="up" title="OpenERP Installation on Windows" href="../index.html" />
    <link rel="next" title="OpenERP Server Installation" href="../server/index.html" />
    <link rel="prev" title="OpenERP All-In-One Installation" href="../allinone/index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-47926740-1']);
  _gaq.push(['_trackPageview']);
</script>

<meta name="google-translate-customization" content="1a9f16396f329347-27b519b501ddf27d-gbee5ada102d015d0-f"></meta>

<!-- AddThis Smart Layers BEGIN -->
<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-530c64087def677e"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'transparent',
    'share' : {
      'position' : 'left',
      'numPreferredServices' : 5
    }   
  });
</script>
<!-- AddThis Smart Layers END -->


  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../index.html">
          OpenERP Book</a>
        <span class="navbar-text navbar-version pull-left"><b>8.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/index.html">About OpenERP Online Book !</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/index.html">Looking for OpenERP Demo ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install/index.html">Installation on Windows, Linux and MacOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../part01/index.html">Getting start with OpenERP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install-apps/index.html">Install and configure OpenERP Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../part03/index.html">Setup your First Company in OpenERP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../part02/index.html">Leads to Cash Flow with OpenERP</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Drive your Sales &amp; Marketing Activities with OpenERP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../part04/index.html">Recruit &amp; Manage your Talents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../prod-setup/index.html">Deploy OpenERP in Production</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../backup/index.html">OpenERP Backup and Restore</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">PostgreSQL Server Installation and Configuration</a></li>
</ul>
</ul>
</li>
              
            
            
              
  <li>
    <a href="../allinone/index.html" title="Previous Chapter: OpenERP All-In-One Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; OpenERP All-In-O...</span>
    </a>
  </li>
  <li>
    <a href="../server/index.html" title="Next Chapter: OpenERP Server Installation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">OpenERP Server I... &raquo;</span>
    </a>
  </li>
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
    
<form class="navbar-form navbar-right" action="../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">

	        
        
      
  <span class="target" id="index-0"></span><div class="section" id="postgresql-server-installation-and-configuration">
<span id="installation-windows-postgresql-server"></span><h1>PostgreSQL Server Installation and Configuration<a class="headerlink" href="#postgresql-server-installation-and-configuration" title="Permalink to this headline">¶</a></h1>
<p>In this chapter, you will see how to configure PostgreSQL for its use with OpenERP. The following procedure is well-tested on PostgreSQL v9.0.</p>
<p><em>Installing PostgreSQL Server</em></p>
<p>You can download the Windows installer from
the <a class="reference external" href="http://www.postgresql.org/download/windows">PostgreSQL download page</a></p>
<p>Depending on your need, choose either the <em>One Click Installer</em> or the
<em>pgInstaller</em> and run the executable you have just downloaded.</p>
<span class="target" id="index-1"></span><p><em>Set up a PostgreSQL User</em></p>
<p>When the installations of the required software are done, you have to create a
PostgreSQL user. OpenERP will use this user to connect to PostgreSQL.</p>
<p><em>Add a User</em></p>
<p>Start a Windows console (run the <tt class="docutils literal"><span class="pre">cmd</span></tt> command in the <em>Search programs and files</em> text box of the <em>Start</em> menu).</p>
<p>Change the directory to the <em>PostgreSQL</em> <tt class="docutils literal"><span class="pre">bin</span></tt> directory
(e.g. <tt class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\PostgreSQL\9.0\bin</span></tt>) or add this directory to
your <em>PATH</em> environment variable.</p>
<p>The default superuser for PostgreSQL is called <em>postgres</em>. His password was
chosen during the PostgreSQL installation.</p>
<p>In your Windows console, type:</p>
<div class="highlight-python"><div class="highlight"><pre>  C:\Program Files\PostgreSQL\9.0\bin&gt;createuser.exe --createdb --username postgres --no-createrole --pwprompt openpg
  Enter password for new role: openpgpwd
  Enter it again: openpgpwd
  Shall the new role be a superuser? (y/n) y
  Password: XXXXXXXXXX


* line 1 is the command itself
* line 2 asks you the new user&#39;s password
* line 3 asks you to confirm the new user&#39;s password
* line 4 new role is superuser or not?
* line 5 asks you the *postgres* user&#39;s password
</pre></div>
</div>
<p>Option explanations:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">--createdb</span></tt> : the new user will be able to create new databases</li>
<li><tt class="docutils literal"><span class="pre">--username</span> <span class="pre">postgres</span></tt> : <em>createuser</em> will use the <em>postgres</em> user (superuser)</li>
<li><tt class="docutils literal"><span class="pre">--no-createrole</span></tt> : the new user will not be able to create new users</li>
<li><tt class="docutils literal"><span class="pre">--pwprompt</span></tt> : <em>createuser</em> will ask you the new user&#8217;s password</li>
<li><tt class="docutils literal"><span class="pre">openpg</span></tt> : the new user&#8217;s name. Alternatively, you may specify a different username.</li>
<li><tt class="docutils literal"><span class="pre">openpgpwd</span></tt> : the new user&#8217;s password. Alternatively, you may specify a different password.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Password</p>
<p class="last">In OpenERP v6, <tt class="docutils literal"><span class="pre">openpg</span></tt> and <tt class="docutils literal"><span class="pre">openpgpwd</span></tt> are the default username and password used during the OpenERP Server installation. If you plan to change these defaults for the server, or have already installed the server with different values, you have to use those user configuration values when you create a PostgreSQL user for OpenERP.</p>
</div>
<p>Now use <em>pgAdmin III</em> to create database &#8220;openerpdemo&#8221; with owner &#8220;openpg&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre>CREATE DATABASE openerpdemo WITH OWNER = openpg ENCODING = &#39;UTF8&#39;;
COMMENT ON DATABASE openerpdemo IS &#39;OpenERP Demo DB&#39;;
</pre></div>
</div>
<p>If you have installed the OpenERP Server, you can start it now. If needed, you can override the server configuration by starting the server at a Windows console and specifying command-line options. For more on this, refer the section <em class="xref std std-ref">sect-custconf</em>.</p>
<p>To change a user&#8217;s password in any Windows version, execute the following:</p>
<div class="highlight-python"><div class="highlight"><pre>net user &lt;accountname&gt; &lt;newpassword&gt;
e.g. net user postgres postgres
</pre></div>
</div>
<p>If it is a domain account, just add &#8220;/DOMAIN&#8221; at the end.</p>
<p>If you want to delete it, just execute:</p>
<div class="highlight-python"><div class="highlight"><pre>net user &lt;accountname&gt; /delete
</pre></div>
</div>
<p><em>Case-Insensitive Search Issue</em></p>
<p>For an installation which needs full UTF8 character support, consider using
postgres &gt;= 8.2.x. Using versions prior to this, OpenERP search will eventually not return the
expected results for case-insensitive searches, which are used for searching
partners, products etc.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>SELECT &#39;x&#39; FROM my_table WHERE &#39;bét&#39; ilike &#39;BÉT&#39;
--matches only in 8.2.x
</pre></div>
</div>
</div>


	
		
		<div id="disqus_thread"></div>
	    <script type="text/javascript">
	        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	        var disqus_shortname = 'openerponlinebook'; // required: replace example with your forum shortname
	
	        /* * * DON'T EDIT BELOW THIS LINE * * */
	        (function() {
	            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	        })();
	    </script>
	    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	    
    </div>
    
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, OpenERP Book.<br/>
      Last updated on Mar 07, 2014.<br/>
    </p>
  </div>
</footer>
<div class="container">You can contribute to OpenERP Book on <a href="#">Launchpade.net</a>
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>